â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘          ğŸ§ª SAFEHER BACKEND - QUICK TESTING REFERENCE CARD ğŸ§ª            â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âš¡ FASTEST WAY TO TEST (Automatic)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Open terminal in project folder
2. Install test dependencies:
   pip install requests

3. Run all tests:
   python test_backend.py

âœ… This runs 10 tests automatically and shows results!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ“‹ STEP-BY-STEP MANUAL TESTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: Start Server
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Terminal 1:
  python app.py

Expected output:
  âœ… SUCCESS: Firebase is connected and ready!
  âœ… Connection pool created successfully


STEP 2: Test Health Check
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Terminal 2 (new terminal):
  curl http://localhost:5000/ping

Expected response (200):
  {
    "status": "Online",
    "project": "SAFEHER",
    "database": "Connected"
  }


STEP 3: Register Test User
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl -X POST http://localhost:5000/register \
  -H "Content-Type: application/json" \
  -d '{
    "username":"sarah",
    "password":"pass123",
    "email":"sarah@test.com",
    "pin":"1234"
  }'

Expected response (201):
  {"status": "Success", "message": "User registered successfully"}


STEP 4: Get User Info
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl http://localhost:5000/user/sarah

Expected response (200):
  {"username": "sarah", "email": "sarah@test.com"}


STEP 5: Add Contact
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl -X POST http://localhost:5000/contact \
  -H "Content-Type: application/json" \
  -d '{
    "username":"sarah",
    "name":"Mom",
    "relation":"Mother",
    "contact":"9876543210"
  }'

Expected response (201):
  {"status": "Success", "message": "Contact added successfully"}


STEP 6: Get Contacts
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl http://localhost:5000/contacts/sarah

Expected response (200):
  {
    "username": "sarah",
    "count": 1,
    "contacts": [{"name": "Mom", "relation": "Mother", "contact": "9876543210"}]
  }


STEP 7: Analyze Location
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl -X POST http://localhost:5000/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "username":"sarah",
    "lat":12.5,
    "lng":77.5,
    "accuracy":50
  }'

Expected response (200):
  {
    "risk_level": "Low",
    "reason": "Area appears safe",
    "time": "14:30",
    "location_logged": true
  }


STEP 8: Get Location History
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl "http://localhost:5000/locations/sarah?limit=10"

Expected response (200):
  {
    "username": "sarah",
    "count": 1,
    "locations": [{
      "latitude": 12.5,
      "longitude": 77.5,
      "accuracy": 50,
      "timestamp": "2025-01-17 14:30:00"
    }]
  }


STEP 9: Trigger SOS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl -X POST http://localhost:5000/sos \
  -H "Content-Type: application/json" \
  -d '{"username":"sarah","name":"Sarah Doe"}'

Expected response (200):
  {"status": "Success", "message": "FCM Alert Sent"}

Expected in server terminal:
  ğŸš¨ SOS RECEIVED FROM: sarah
  âœ… FCM alert sent


STEP 10: Test Error Handling
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl -X POST http://localhost:5000/analyze \
  -H "Content-Type: application/json" \
  -d '{"lat":12.5,"lng":77.5}'

Expected response (400):
  {"error": "Username required"}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âœ… VERIFICATION CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Basic Functionality
  â˜ POST /register        â†’ 201 Created
  â˜ GET /user/<username>  â†’ 200 OK
  â˜ POST /contact         â†’ 201 Created
  â˜ GET /contacts/<u>     â†’ 200 OK
  â˜ POST /analyze         â†’ 200 OK
  â˜ GET /locations/<u>    â†’ 200 OK
  â˜ POST /sos             â†’ 200 OK
  â˜ GET /ping             â†’ 200 OK

Error Handling
  â˜ Missing username      â†’ 400 Bad Request
  â˜ Invalid email         â†’ 400 Bad Request
  â˜ Invalid coordinates   â†’ 400 Bad Request
  â˜ Missing required data â†’ 400 Bad Request

Database
  â˜ Data persists after restart
  â˜ Multiple users work
  â˜ Multiple contacts per user work
  â˜ Location history stored correctly

Logging
  â˜ logs/ directory created
  â˜ Daily log file created
  â˜ Error log created
  â˜ Operations logged


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ¯ ENDPOINT QUICK REFERENCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GET /ping
  Purpose: Health check
  No parameters
  Returns: {status, database, timestamp}

POST /register
  Purpose: Register new user
  Params: username, password, email, pin
  Returns: {status, message}

GET /user/<username>
  Purpose: Get user info
  No parameters
  Returns: {username, email}

POST /contact
  Purpose: Add emergency contact
  Params: username, name, relation, contact
  Returns: {status, message}

GET /contacts/<username>
  Purpose: Get all contacts
  No parameters
  Returns: {username, count, contacts[]}

POST /analyze
  Purpose: Analyze location safety
  Params: username, lat, lng, accuracy
  Returns: {risk_level, reason, time, location_logged}

GET /locations/<username>?limit=X
  Purpose: Get location history
  Query: limit (default: 50)
  Returns: {username, count, locations[]}

POST /sos
  Purpose: Trigger emergency alert
  Params: username, name
  Returns: {status, message}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ› COMMON ERRORS & SOLUTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ERROR: Connection refused
CAUSE: Server not running
FIX: python app.py

ERROR: ModuleNotFoundError
CAUSE: Dependencies not installed
FIX: pip install -r requirements.txt

ERROR: MySQL error
CAUSE: Database not configured
FIX: Check .env file, set DB_* variables

ERROR: Port already in use
CAUSE: Server already running on port 5000
FIX: Kill process - lsof -i :5000 | kill -9 <PID>

ERROR: Invalid email
CAUSE: Email format validation failed
FIX: Use valid email format (user@domain.com)

ERROR: Coordinate out of bounds
CAUSE: Invalid latitude or longitude
FIX: Lat must be -90 to 90, Lng must be -180 to 180


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ“Š RESPONSE STATUS CODES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

200 OK                  âœ… Request successful
201 Created             âœ… Resource created
400 Bad Request         âŒ Invalid input
401 Unauthorized        âŒ Authentication needed
404 Not Found           âŒ Endpoint not found
500 Server Error        âŒ Server error
503 Unavailable         âŒ Database down


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ† SUCCESS INDICATORS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… test_backend.py shows all tests passing
âœ… Response times < 500ms
âœ… No errors in logs/safeher_errors.log
âœ… Database operations complete immediately
âœ… Invalid input returns 400 with descriptive message
âœ… All 8 endpoints return expected responses
âœ… Logs created in logs/ directory
âœ… Health check shows "Connected"


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸš€ NEXT STEPS AFTER TESTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ… All tests passing
2. Review logs: cat logs/safeher_*.log
3. Check database: mysql -u root safeher_db -e "SELECT * FROM user_details"
4. Configure Firebase for push notifications
5. Set up production deployment
6. Monitor application
7. Add more validation rules if needed
8. Deploy to production server


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For detailed testing guide, see: TESTING.md
For API documentation, see: README.md
For deployment help, see: DEPLOYMENT.md

Happy Testing! ğŸ‰
